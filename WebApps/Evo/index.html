<!DOCTYPE html>
<html>
    <head>
        <title>Car racing</title>
        <link rel="stylesheet" type="text/css" href="main.css"></link>
    </head>

    <body>

        <div class="headingBackground">
            <p class="text heading">Car racing simulator (genetic neural networks)</p>
        </div>
        
        <div class="flex-container main">
            <canvas id="drawCanvas" class="canvas" width="512" height="512" style="border:1px solid #d3d3d3;"> Your browser does not support the HTML5 canvas tag.</canvas>
            <div class="flex-container controls" width="512" height="200">
            </div>
        </div>

        <div class="controlpanel flex-container textctrl">
            <p>Simulation speed: <span id="simspeed">1</span>x</p>
            <input type="range" min="0" max="50" value="1" class="slider" id="simspeedinput" ><br>
            <input type="checkbox" id="checkDrawSensors" />Show car sensors
            <p id="results"> </p>
        </div>

        <div id="loading" class="loadingbackground">
            <p class="loadingtext">Loading...</h2>
        </div>

        <img id="background" class="hide" src="hungaroring.png" />

        <script src="neuralnet.js"> </script>
        <script src="initialNetwork.js"> </script>
        <script src="entity.js"> </script>
        <script src="drawing.js"> </script>

        <script>
            document.getElementById("loading").hidden=true;
        </script>

        <script>
            var drawing = new EvoDrawing(document.getElementById("drawCanvas"), "background", "results");

            var checkboxSensors = document.getElementById("checkDrawSensors");
            checkboxSensors.onclick=function(){
                drawSensorsGlobal = checkboxSensors.checked;
            }

            var simSpeedSlider = document.getElementById("simspeedinput");
            var simSpeedElement = document.getElementById("simspeed");
            
            simSpeedElement.innerHTML = simSpeedSlider.value|0;
            drawing.SetSimulationSpeed(simSpeedSlider.value|0);
            
            simSpeedSlider.oninput = function() {
                simSpeedElement.innerHTML = this.value|0;
                drawing.SetSimulationSpeed(this.value|0);
            }
        </script>


    </body>
</html>
